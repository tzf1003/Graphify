# ============================================
# Image Editor JSON-Driven - 环境变量配置
# ============================================
# 复制此文件为 .env 并根据需要修改配置
# cp .env.example .env

# ============================================
# 数据库配置 (PostgreSQL)
# ============================================
# PostgreSQL 用户名
POSTGRES_USER=postgres

# PostgreSQL 密码
POSTGRES_PASSWORD=postgres

# 数据库名称
POSTGRES_DB=image_editor

# 数据库主机地址
# 本地开发使用 localhost，Docker 内部使用容器名
POSTGRES_HOST=localhost

# 数据库端口
# 注意：docker-compose 映射为 5433 以避免与本地 PostgreSQL 冲突
POSTGRES_PORT=5433

# ============================================
# 服务器配置
# ============================================
# 后端服务端口
SERVER_PORT=3000

# 运行环境：development | production
NODE_ENV=development

# ============================================
# 存储配置
# ============================================
# 存储类型：local | oss
# local: 本地文件系统存储
# oss: 阿里云 OSS 存储（需要额外配置）
STORAGE_TYPE=local

# 本地存储路径（相对于 server 目录）
STORAGE_PATH=./data/uploads

# OSS 配置（当 STORAGE_TYPE=oss 时需要配置）
# OSS_REGION=oss-cn-hangzhou
# OSS_ACCESS_KEY_ID=your-access-key-id
# OSS_ACCESS_KEY_SECRET=your-access-key-secret
# OSS_BUCKET=your-bucket-name
# OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com

# ============================================
# AI Provider 配置
# ============================================
# JSON 提取器提供者：mock | gemini | openai
# mock: 使用 Mock 实现，返回固定 JSON（仅用于开发测试）
# gemini: 使用 Google Gemini API
# openai: 使用 OpenAI 兼容接口（支持 GPT-4o、Azure OpenAI 等）
EXTRACTOR_PROVIDER=openai

# 图片生成提供者：mock | nanobanana | openai
# mock: 使用 Mock 实现（复制原图）（仅用于开发测试）
# nanobanana: 使用 NanoBanana API
# openai: 使用 OpenAI 兼容接口（支持第三方服务）
IMAGE_PROVIDER=openai

# 文字生成图片提供者：mock | openai
# mock: 使用 Mock 实现（生成占位图）（仅用于开发测试）
# openai: 使用 OpenAI DALL-E API
TEXT_TO_IMAGE_PROVIDER=openai

# Gemini API 密钥（当 EXTRACTOR_PROVIDER=gemini 时需要配置）
# 获取地址：https://makersuite.google.com/app/apikey
GEMINI_API_KEY=

# NanoBanana API 密钥（用于图片生成）
# 获取地址：联系服务提供商
NANO_BANANA_API_KEY=

# OpenAI 兼容接口配置
# 当 EXTRACTOR_PROVIDER=openai 或 IMAGE_PROVIDER=openai 时需要配置
# 支持 OpenAI 官方 API 或第三方兼容服务
OPENAI_API_KEY=
OPENAI_API_BASE=https://api.openai.com/v1
# 用于 JSON 提取的模型（需要支持 vision）
OPENAI_EXTRACTOR_MODEL=gpt-4o
# 用于图片生成的模型
OPENAI_MODEL=gpt-4o

# 用于文字生成图片的模型（DALL-E）
TEXT_TO_IMAGE_MODEL=dall-e-3

# ============================================
# 前端配置
# ============================================
# API 基础 URL（前端调用后端 API 的地址）
VITE_API_BASE_URL=http://localhost:3000
